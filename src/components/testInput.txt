import { React , useState } from 'react';
interface inputProps{
  label:string;
  type?:string;
  value:string;
  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;
  regex?:RegExp;
  errorMessage?:string;
};
// regex for email /^[^\s@]+@[^\s@]+\.[^\s@]+$/
export default function Input({
  label,
  type='text',
  value,
  onChange,
  regex,
  errorMessage='Invalid Input',
}: inputProps){
    const [labelForm, setLableForm] = useState(false);
    function handleLoseFocus(){
      setTouched(true);
      setLableForm(false);
      console.log("omasa");
    }

    const [touched,setTouched] = useState(false);
    const  isValid = regex ? regex.test(value) : true;
    return (
      <div className='mb-4'>
        <label className={`font-md transition  relative ml-3 ${labelForm ? "top-0" : "top-3 color-red-100" } `} >{label}</label>
        <input
          type={type}
          value={value}
          onChange={onChange}
          onBlur={handleLoseFocus}
          onFocus={()=>setLableForm(true)}
          className={`w-full border rounded-lg p-2 outline-none
          ${!isValid && touched ? "border-red-500" : "border-gray-300"}
          focus:ring-2 focus:ring-blue-500`}
        />
        {!isValid && touched && (
          <p className="text-red-500 text-sm mt-1">{errorMessage}</p>
        )}
      </div>
    );
}

